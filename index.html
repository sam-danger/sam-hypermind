<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <title>SAM System Interface</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="/static/script.js" defer></script>
  <style>
    body {
      background-color: #111;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }

    /* ‚öôÔ∏è Ayarlar Butonu */
    .settings-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #111;
      color: cyan;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
      z-index: 10000;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    .settings-button:hover {
      background-color: #222;
    }

    .settings-panel {
  position: fixed;
  top: 0;
  right: -320px;
  width: 300px;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);                /* daha saydam ve ≈üƒ±k */
  backdrop-filter: blur(10px);                  /* cam efekti */
  -webkit-backdrop-filter: blur(10px);
  color: white;
  padding: 20px;
  box-shadow: -2px 0 6px rgba(0, 255, 255, 0.2); /* neon √ßizgi efekti */
  border-left: 1px solid rgba(0, 255, 255, 0.08);
  transition: right 0.4s ease-in-out;
  z-index: 9999;
}

    .settings-panel.open {
      right: 0;
    }

    .settings-panel h2 {
      margin-top: 0;
      font-size: 20px;
      border-bottom: 1px solid #444;
      padding-bottom: 10px;
    }

    .settings-panel ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }

    .settings-panel li {
      margin: 14px 0;
    }

    .settings-panel a {
      color: #00e0ff;
      text-decoration: none;
      font-weight: bold;
    }

    .settings-panel a:hover {
      text-decoration: underline;
    }

    .close-btn {
      background: none;
      border: none;
      color: red;
      font-size: 18px;
      position: absolute;
      top: 10px;
      right: 15px;
      cursor: pointer;
    }

    /* Admin Giri≈ü Linki */
    .admin-link {
      position: absolute;
      top: 9px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 13px;
      color: rgba(0, 224, 255, 0.6);
      text-shadow: 0 0 4px rgba(0, 217, 255, 0.3);
      text-decoration: none;
      font-weight: 500;
      letter-spacing: 0.5px;
      z-index: 1000;
      transition: 0.3s ease;
    }

    .admin-link:hover {
      text-shadow: 0 0 6px rgba(0, 255, 229, 0.5);
      color: rgba(0, 255, 255, 0.8);
    }

    /* Giri≈ü Alanƒ± (Tƒ±klanabilir alan) */
    .overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

   
/* üé§ Mikrofon Overlay */
#microphone-overlay {
  position: absolute;
  bottom: 50px;
  right: 50px;
  width: 100px;
  height: 100px;
  cursor: pointer;
  z-index: 9999;
}


  </style>
</head>
<body>

<!-- Sesli komut i√ßin g√∂r√ºnmez y√∂nlendirme baƒülantƒ±larƒ± -->
<div style="display: none;">
  <a href="/chat" id="goto-chat"></a>
  <a href="/notlar" id="goto-notlar"></a>
  <a href="/data" id="goto-veri"></a>
  <a href="/profil" id="goto-profil"></a>
  <a href="/index" id="goto-home"></a>
</div>


  <!-- ‚öôÔ∏è Ayarlar Butonu -->
  <div class="settings-button" onclick="toggleSettingsPanel()" title="Ayarlar">
  <i class="fas fa-cog"></i>
</div>

  <!-- ‚öôÔ∏è Saƒüdan kayan Ayarlar Paneli -->
  <div id="settingsPanel" class="settings-panel">
    
    <h2>Ayarlar</h2>
<ul>
  <li><a href="/profil">Profil Bilgilerim</a></li>
  <li><a href="/security">G√ºvenlik</a></li>
  <li><a href="/connections">Baƒülantƒ±lar</a></li>
  <li><a href="/data">Veri ƒ∞≈ülemleri</a></li>
  <li><a href="/notes">Notlarƒ±m / Randevu</a></li>
  <li><a href="/oturum">Hesap ve Oturum</a></li>
  <li><a href="/feedback" target="_parent">üì¨ Destek ve Geri Bildirim</a></li>
  <li><a href="/canli-destek" target="_parent">üí¨ Canlƒ± Destek</a></li>
  <li><a href="#" onclick="logoutUser()">√áƒ±kƒ±≈ü Yap</a></li>
</ul>

<!-- Ayarlar Paneli kapanƒ±≈üƒ± -->
</div>

<!-- √áƒ±kƒ±≈ü fonksiyonu -->
<script>
  function logoutUser() {
    fetch("/logout", {
      method: "POST",
      headers: { "Content-Type": "application/json" }
    })
    .then(res => res.json())
    .then(data => {
      if (data.redirect) {
        window.location.href = data.redirect;
      }
    });
  }
</script>


  <!-- Admin Giri≈ü Linki -->
  <a href="/admin-login" class="admin-link">
    <img src="/static/admin_icon.png" alt="Admin Icon" class="admin-icon">
    SAM Neural Operations Interface
  </a>

  <!-- SADECE index.html'de -->
<!-- DIGITAL TWIN -->
<div id="index-overlay" class="overlay">
    <div class="clickable-area" onclick="window.location.href='/chat'" title="DIGITAL TWIN"></div>
</div>


<div class="clickable-area microphone-click" onclick="window.location.href='/microphone'" title="Microphone"></div>


<!-- üé§ Mikrofon Alanƒ± (Tƒ±klanabilir) -->


<!-- üç™ √áerez Onayƒ± Kutusu -->
<div id="cookieConsent" style="position:fixed; bottom:20px; left:20px; right:20px; background:#222; color:#fff; padding:20px; border-radius:8px; box-shadow:0 0 10px #00ffff; z-index:9999; display:none;">
  <p style="margin:0; font-size:14px;">
    üç™ Bu site, deneyiminizi iyile≈ütirmek i√ßin √ßerez kullanƒ±r.
    <a href="/cerez-politikasi" style="color:#00ffff; text-decoration:underline;">Detaylƒ± bilgi</a>
  </p>
  <button onclick="acceptCookies()" style="margin-top:10px; padding:6px 14px; background:#00ffff; color:#000; border:none; border-radius:4px; cursor:pointer;">
    Kabul Ediyorum
  </button>
</div>


<script>
  function setCookie(name, value, days) {
    const expires = new Date(Date.now() + days*24*60*60*1000).toUTCString();
    document.cookie = name + "=" + value + "; expires=" + expires + "; path=/";
  }

  function getCookie(name) {
    const value = document.cookie.match("(^|;)\\s*" + name + "\\s*=\\s*([^;]+)");
    return value ? value.pop() : "";
  }

  function acceptCookies() {
    setCookie("cookieAccepted", "true", 365);
    setCookie("cookieAcceptedDate", new Date().toISOString(), 365);
    document.getElementById("cookieConsent").style.display = "none";
  }

  window.onload = function () {
    if (getCookie("cookieAccepted") !== "true") {
      document.getElementById("cookieConsent").style.display = "block";
    }
  };
</script>





  <!-- Panel A√ß/Kapat Script -->
  <script>
    function toggleSettingsPanel() {
      const panel = document.getElementById("settingsPanel");
      panel.classList.toggle("open");
    }
  </script>

<script>
    if (window.location.pathname === "/" || window.location.pathname === "/index") {
        const overlay = document.createElement("div");
        overlay.className = "overlay";

        const clickable = document.createElement("div");
        clickable.className = "clickable-area";
        clickable.title = "DIGITAL TWIN";
        clickable.onclick = () => window.location.href = "/chat";

        overlay.appendChild(clickable);
        document.body.appendChild(overlay);
    }
</script>

<script>
    // Eƒüer sayfa index deƒüilse, overlay‚Äôi kaldƒ±r
    if (window.location.pathname !== "/" && window.location.pathname !== "/index") {
        const overlay = document.getElementById("index-overlay");
        if (overlay) overlay.remove();
    }
</script>

<script>
let samTimeout;
let samOverlay;

function createSecurityOverlay() {
    samOverlay = document.createElement("div");
    samOverlay.id = "samOverlay";
    samOverlay.style.position = "fixed";
    samOverlay.style.top = 0;
    samOverlay.style.left = 0;
    samOverlay.style.width = "100%";
    samOverlay.style.height = "100%";
    samOverlay.style.background = "rgba(0, 0, 0, 0.9)";
    samOverlay.style.backdropFilter = "blur(10px)";
    samOverlay.style.display = "flex";
    samOverlay.style.alignItems = "center";
    samOverlay.style.justifyContent = "center";
    samOverlay.style.zIndex = 999999;
    samOverlay.innerHTML = `<div style="color:#00ffff; font-size:20px; text-align:center;">
        üîí SAM G√ºvenlik Modu <br><br>
        Uzun s√ºreli hareketsizlik algƒ±landƒ±.<br>
        Sistemi devam ettirmek i√ßin ekrana dokunun...
    </div>`;
    document.body.appendChild(samOverlay);
}

function removeSecurityOverlay() {
    if (samOverlay) {
        samOverlay.remove();
        samOverlay = null;
    }
}

function resetSamInactivityTimer() {
    clearTimeout(samTimeout);
    samTimeout = setTimeout(() => {
        createSecurityOverlay();
    }, 120000); // 2 dakika (120000 ms)
}

// Her etkile≈üimde sƒ±fƒ±rla
["click", "mousemove", "keydown", "touchstart"].forEach(evt => {
    document.addEventListener(evt, () => {
        removeSecurityOverlay();
        resetSamInactivityTimer();
    });
});

window.addEventListener("load", resetSamInactivityTimer);
</script>




</body>
</html>