<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>SAM Kayƒ±t Ol</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Roboto', sans-serif;
    }

    body {
      background: url("/static/sam_register_bg.jpg") no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
    }

    .register-container {
      background-color: transparent;
      box-shadow: none;
      padding: 30px;
      width: 100%;
      max-width: 400px;
    }

    .register-container h2 {
      text-align: center;
      margin-bottom: 25px;
      font-size: 24px;
      background: linear-gradient(to right, #00ffff, #0077ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .register-container input,
    .register-container select {
      width: 100%;
      padding: 12px;
      margin-bottom: 18px;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
    }

    .register-container input::placeholder {
      color: #ccc;
    }

    .register-container select option {
      background: #1e1e1e;
      color: #fff;
    }

    .btn {
      width: 100%;
      padding: 12px;
      background-color: #00ffff;
      color: black;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 15px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #00cccc;
    }

    .login-link {
      margin-top: 18px;
      text-align: center;
      font-size: 14px;
    }

    .login-link a {
      color: #00ffff;
      text-decoration: none;
    }

    .login-link a:hover {
      text-decoration: underline;
    }

    .success-message {
      background-color: rgba(0, 255, 0, 0.15);
      border: 1px solid lime;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 15px;
      color: #00ff99;
      font-size: 14px;
      text-align: center;
      display: none;
    }

    .terms-label {
      font-size: 13px;
      display: block;
      margin: -10px 0 18px;
      line-height: 1.4;
    }

    .terms-label input {
      margin-right: 6px;
      transform: scale(1.1);
    }

    .terms-label a {
      color: #00ffff;
      text-decoration: underline;
    }

    .social-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }

    .social-buttons a {
      display: inline-block;
      text-align: center;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      text-decoration: none;
    }

    .google { background: #ffffff; color: #000; }
    .facebook { background: #3b5998; color: #fff; }
    .github { background: #333; color: #fff; }
    .apple { background: #000; color: #fff; }
    .discord { background: #5865F2; color: #fff; }

    @media screen and (max-width: 480px) {
      .register-container {
        padding: 25px 20px;
      }

      .register-container h2 {
        font-size: 20px;
      }
    }

    .policy-note {
      font-size: 12.5px;
      color: gray;
      margin-bottom: 15px;
      text-align: center;
    }

.kvkk-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #ccc;
  margin: 12px 0 20px 0;
  user-select: none;
  line-height: 1.4;
}

.kvkk-checkbox input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: #00ffff;
  margin: 0;
  cursor: pointer;
}
  </style>
<style>
.flash-messages {
  position: fixed;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  width: auto;
  max-width: 400px;
}

.flash-messages .alert {
  background-color: #fff;
  border-radius: 8px;
  padding: 10px 15px;
  box-shadow: 0px 4px 8px rgba(0,0,0,0.15);
  margin-bottom: 10px;
  animation: fadeInOut 4s ease-in-out forwards;
}

.alert-success { border-left: 4px solid #4CAF50; }
.alert-danger { border-left: 4px solid #F44336; }
.alert-warning { border-left: 4px solid #FFC107; }

@keyframes fadeInOut {
  0% { opacity: 0; transform: translate(-50%, -10px); }
  10% { opacity: 1; transform: translate(-50%, 0); }
  80% { opacity: 1; }
  100% { opacity: 0; transform: translate(-50%, -10px); }
}
</style>

</head>
<body>

<!-- üí• Hata kutusu -->
<div id="errorBox" class="error-message" style="
  background-color: rgba(255, 0, 0, 0.15);
  border: 1px solid red;
  padding: 12px 20px;
  border-radius: 8px;
  color: #ff7777;
  font-size: 14px;
  text-align: center;
  display: none;
  position: fixed;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  backdrop-filter: blur(6px);
  box-shadow: 0 0 10px rgba(255,0,0,0.2);
">
‚ùó ≈ûifreler e≈üle≈ümiyor.
</div>


  <form class="register-container" method="POST" action="/register">
    <h2>Yeni Hesap Olu≈ütur</h2>

    <div id="successBox" class="success-message">‚úî Aktivasyon baƒülantƒ±sƒ± e-posta adresinize g√∂nderildi.</div>

    <!-- üåê Sosyal Giri≈ü Butonlarƒ± -->
<div class="social-buttons">
  <a href="/connect-google" class="google">üîó Google ile Kaydol</a>
  <a href="/facebook-login" class="btn btn-facebook">üìò Facebook ile Giri≈ü Yap</a>
  <a href="/connect-github" class="github">üê± GitHub ile Kaydol</a>
  <a href="#" class="discord" onclick="alert('Discord baƒülantƒ±sƒ± hen√ºz aktif deƒüil.')">üí¨ Discord ile Kaydol</a>
  <a href="#" class="apple" onclick="alert('Apple baƒülantƒ±sƒ± hen√ºz aktif deƒüil.')">üçè Apple ile Kaydol</a>
</div>

    <input type="text" name="username" placeholder="Kullanƒ±cƒ± Adƒ±" required>
    <input type="email" name="email" placeholder="E-posta Adresi" required>
    <input type="password" name="password" placeholder="≈ûifre" required>
<input type="password" name="confirm_password" placeholder="≈ûifre (tekrar)" required>

    <p class="policy-note" style="margin-top: -10px; margin-bottom: 10px;">
      üîê En az 8 karakter, b√ºy√ºk harf, k√º√ß√ºk harf ve rakam i√ßermelidir.
    </p>

    <label class="kvkk-checkbox">
  <input type="checkbox" name="kvkk" required>
  <span>
    Kaydolarak <a href="/kvkk" style="color:cyan" target="_blank">KVKK Aydƒ±nlatma Metni</a>, 
    <a href="/gizlilik" style="color:cyan" target="_blank">Gizlilik Politikasƒ±</a> ve 
    <a href="/sozlesme" style="color:cyan" target="_blank">Kullanƒ±cƒ± S√∂zle≈ümesi</a>'ni kabul ediyorum.
  </span>
</label>

    <button class="btn" type="submit">Kayƒ±t Ol</button>

    <p style="font-size: 12px; color: gray; text-align: center; margin-top: 10px;">
      Daha fazla bilgi i√ßin: <a href="/hukuki-iletisim" style="color:#00ffff;">‚öñÔ∏è Hukuki ƒ∞leti≈üim</a>
    </p>

    <div class="login-link">
      Zaten hesabƒ±n var mƒ±? <a href="/login">Giri≈ü Yap</a>
    </div>
  </form>

 <script>
  document.querySelector("form").addEventListener("submit", function (e) {
    const pass1 = document.querySelector('input[name="password"]').value;
    const pass2 = document.querySelector('input[name="confirm_password"]').value;
    const box = document.getElementById("errorBox");

    if (pass1 !== pass2) {
      e.preventDefault();
      box.style.display = "block";
      box.style.opacity = "1";
      setTimeout(() => {
        box.style.transition = "opacity 0.5s ease";
        box.style.opacity = "0";
        setTimeout(() => { box.style.display = "none"; box.style.opacity = "1"; }, 2000);
      }, 2000);
    }
  });
</script>


  <script>
    window.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get("kvkk") === "onaylandi") {
        const toast = document.createElement("div");
        toast.textContent = "‚úÖ KVKK ba≈üvurunuz alƒ±ndƒ±. ≈ûimdi kayƒ±t olabilirsiniz.";
        toast.style.position = "fixed";
        toast.style.top = "20px";
        toast.style.left = "50%";
        toast.style.transform = "translateX(-50%)";
        toast.style.padding = "12px 24px";
        toast.style.borderRadius = "8px";
        toast.style.background = "rgba(0, 255, 255, 0.12)";
        toast.style.color = "#00ffff";
        toast.style.border = "1px solid #00ffff";
        toast.style.fontSize = "14px";
        toast.style.backdropFilter = "blur(6px)";
        toast.style.boxShadow = "0 0 12px rgba(0,255,255,0.2)";
        toast.style.zIndex = "9999";
        toast.style.transition = "opacity 0.5s ease";

        document.body.appendChild(toast);

        setTimeout(() => {
          toast.style.opacity = "0";
          setTimeout(() => toast.remove(), 600);
        }, 3500);
      }
    });
  </script>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-messages">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

</body>
</html>